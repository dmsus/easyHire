@startuml
skinparam componentStyle uml2
title AI Service Components

package "AI Question Service" {
  component "Generation Handler" as gen
  component "Validation Handler" as val
  component "RAG Engine" as rag
  component "Prompt Engine" as prompt
}

database "Vector DB" as vdb {
  folder "Embedding Store" as embeddings
}

cloud "AI Providers" {
  node "Gemini API" as gemini
  node "OpenRouter" as openrouter
}

gen --> rag : uses for context
gen --> prompt : builds prompts
val --> rag : validates against

gen --> gemini : calls primary
gen --> openrouter : fallback calls

rag --> embeddings : queries vectors

note right of rag
RAG: Retrieval-Augmented
Generation with vector
similarity search
end note

@enduml
