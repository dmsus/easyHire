get:
  summary: List questions
  description: Get list of questions with filtering and pagination
  tags:
    - Questions
  security:
    - bearerAuth: []
  parameters:
    - $ref: '#/components/parameters/pageParam'
    - $ref: '#/components/parameters/limitParam'
    - name: competency
      in: query
      schema:
        type: string
      required: false
      description: Filter by competency
    - name: level
      in: query
      schema:
        type: string
        enum: [junior, middle, senior, expert]
      required: false
      description: Filter by difficulty level
    - name: type
      in: query
      schema:
        type: string
        enum: [multiple_choice, coding, architecture, debugging]
      required: false
      description: Filter by question type
    - name: validation_status
      in: query
      schema:
        type: string
        enum: [pending, approved, rejected, needs_review]
      required: false
      description: Filter by validation status
  responses:
    '200':
      description: List of questions
      content:
        application/json:
          schema:
            type: object
            properties:
              data:
                type: array
                items:
                  $ref: '#/components/schemas/Question'
              pagination:
                type: object
    '401':
      $ref: '#/components/responses/UnauthorizedError'
    '403':
      $ref: '#/components/responses/ForbiddenError'

post:
  summary: Create manual question
  description: Create a question manually (not AI-generated)
  tags:
    - Questions
  security:
    - bearerAuth: []
    - oauth2: [questions:write]
  requestBody:
    required: true
    content:
      application/json:
        schema:
          type: object
          required:
            - type
            - competency
            - level
            - content
          properties:
            type:
              type: string
              enum: [multiple_choice, coding, architecture, debugging]
            competency:
              type: string
            level:
              type: string
              enum: [junior, middle, senior, expert]
            content:
              type: object
              properties:
                text:
                  type: string
                code_snippet:
                  type: string
                  nullable: true
                options:
                  type: array
                  items:
                    type: string
                  nullable: true
            test_cases:
              type: array
              items:
                type: object
            solution:
              type: object
              nullable: true
            explanation:
              type: string
              nullable: true
  responses:
    '201':
      description: Question created successfully
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Question'
    '400':
      $ref: '#/components/responses/ValidationError'
    '401':
      $ref: '#/components/responses/UnauthorizedError'
    '403':
      $ref: '#/components/responses/ForbiddenError'
